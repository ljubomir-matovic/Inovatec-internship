<p-toast></p-toast>
<form [formGroup]="myForm" class="card d-flex flex-column align-items-stretch gap-2 p-5 mx-auto mt-5" (submit)="submit()">
  <h1 class="text-center">Reset password</h1>
  <div class="d-flex flex-column align-items-stretch gap-1">
    <label for="password">Password</label>
    <p-password styleClass="w-100" [inputStyle]="{'width': '100%'}" formControlName="password" [toggleMask]="true" id="password" [class.is-invalid]="!password.valid && password.touched" [class.ng-dirty]="!password.valid && password.touched">
      <ng-template pTemplate="footer">
          <p-divider></p-divider>
          <p class="mt-2">Suggestions</p>
          <ul class="pl-2 ml-2 mt-0" style="line-height: 1.5">
              <li>At least one lowercase</li>
              <li>At least one uppercase</li>
              <li>At least one numeric</li>
              <li>At least one special character</li>
              <li>Minimum 8 characters</li>
          </ul>
      </ng-template>
    </p-password>
    <div class="errors-container">
      <div [class.is-invalid]="passwordIsInvalid"></div>
      <div class="invalid-feedback" *ngIf="password.errors != null">
        <div *ngIf="password.errors['required']">Password is required</div>
        <div *ngIf="password.errors['pattern'] != undefined">Wrong format <i class="pi pi-info-circle" pTooltip="Read suggestions"></i></div>
      </div>
    </div>
  </div>
  <div class="d-flex flex-column align-items-stretch gap-1">
    <label for="confirmedPassword">Confirm password</label>
    <p-password styleClass="w-100" [inputStyle]="{'width': '100%'}" formControlName="confirmedPassword" [feedback]="false" [toggleMask]="true" id="confirmedPassword" [class.is-invalid]="confirmedPasswordIsInvalid" [class.ng-dirty]="confirmedPasswordIsInvalid" [class.was-validated]="confirmedPasswordIsInvalid"></p-password>
    <div class="errors-container" >
      <div [class.is-invalid]="confirmedPasswordIsInvalid"></div>
      <div class="invalid-feedback" *ngIf="confirmedPassword.errors != null">
        <span *ngIf="confirmedPassword.errors['required']">Confirmed password is required</span>
        <span *ngIf="confirmedPassword.errors['confirmedPassword']">Password isn't confirmed</span>
      </div>
    </div>
  </div>
  <div class="form-group d-flex flex-column gap-1">
    <button pButton type="submit" label="Reset password" [disabled]="!myForm.valid" [loading]="sending"></button>
  </div>
</form>
